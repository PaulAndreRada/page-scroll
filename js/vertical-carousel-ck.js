//@carousel
$(function(){var e=function(e,t){var n={onChange:undefined},r=$(document),i=r.find(e),s=i.find("ul"),o=s.find("li"),u=0,a=o.length,f=0,l=450,c=1e3,h=0;n=$.extend(n,t);n.init=function(){n.setPaneDimensions();$(window).on("load resize orientationchange",function(){n.setPaneDimensions()});return n};n.setPaneDimensions=function(){u=i.height();for(var e=0;e<a;e++)o.height(u);s.height(u*a);return n};n.showPane=function(e){var e=Math.max(0,Math.min(e,a-1));f=e;var t=-(100/a*f);n.setContainerOffset(t,!0);typeof n.onChange=="function"&&n.onChange.call(n,f);return n};n.setContainerOffset=function(e,t){s.removeClass("animate");t&&s.addClass("animate");if(Modernizr.csstransforms3d)s.css("transform","translate3d(0,"+e+"%,0) scale3d(1,1,1)");else if(Modernizr.csstransforms)s.css("transform","translate(0,"+e+"%)");else{var n=u*a/100*e;s.css("top",n+"px")}};n.next=function(){return n.showPane(f+1)};n.prev=function(){return n.showPane(f-1)};var p=function(e,t){var r=$(this),i=t,s=(new Date).getTime(),o=s-h,u=l+c,a=r.scrollTop();if(o<u){e.preventDefault();return}i<0?n.next():n.prev();h=s};r.bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var t=e.originalEvent.wheelDelta||-e.originalEvent.detail;p(e,t)});var d=function(e){e.gesture.preventDefault();switch(e.type){case"dragup":case"dragdown":var t=-(100/a)*f,r=100/u*e.gesture.deltaY/a;if(f==0&&e.gesture.direction==Hammer.DIRECTION_DOWN||f==a-1&&e.gesture.direction==Hammer.DIRECTION_UP)r*=.4;n.setContainerOffset(r+t);break;case"swipeup":n.next();e.gesture.stopDetect();break;case"swipedown":n.prev();e.gesture.stopDetect();break;case"release":Math.abs(e.gesture.deltaY)>u/2?e.gesture.direction==="down"?n.prev():n.next():n.showPane(f,!0)}};i.hammer({drag_to_lock_target:!0}).on("release dragdown dragup swipeleft swiperight swipeup swipedown",d);return n},t=e("#carousel");t.init()});